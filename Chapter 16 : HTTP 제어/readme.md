## Ajax

Ajax란 XMLHttpRequest라는 자바스크립트의 객체를 이용하여 웹 서버와 비동기로 통신하고 DOM을 이용하여 웹페이지를 동적으로 갱신하는 프로그래밍 기법을 말한다. 원래는 XML을 사용하였으나 최근에는 JSON과 텍스트 데이터를 주로 사용한다.

### Ajax의 장점

1. 최소한의 데이터 통신만 하므로 처리 속도가 빠르고 서버 부하와 통신 트래픽 부하가 적다.
2. 비동기로 통신하므로 클라이언트 측에서 다른 작업을 할 수 있다.
3. 웹 페이지 갱신을 클라이언트 측이 담당한다. 페이지를 전환하는 대신에 페이지 일부분만 변경하므로 고속 렌더링이 가능하다.

## XMLHttpRequest

Ajax 통신은 XMLHttpRequest 객체를 생성하고, 사용할 처리 방법을 등록한 후 요청을 전송하고 통신을 시작한다. 

### XMLHttpRequest 객체의 생성

```js
var req = new XMLHttpRequest();
```

### 서버와 통신할 때 사용할 처리 방법의 등록

비동기 통신을 할 때는 서버와의 통신 상태를 감시할 수 있다. 따라서 통신 상태가 바뀌었을 때 특정 처리를 추가할 수 있다. 통신 상태가 바뀌면 readyState 값이 바뀐다. 이 값으로 변화를 감지하여 이벤트를 발생 시키면 된다. 이는 onreadystatechange 이벤트 처리기에 등록해 두면 통신할 때 추가적인 작업을 할 수 있다.
```js
req.onreadystatechange = function() {...}
```

readyState 프로퍼티는 다음의 값을 가진다. 

- 0 : 초기화되지 않음 (open 메서드 호출되지 않음)
- 1 : 로드 중 (send 메서드 호출되지 않음)
- 2 : 로드 완료 (응답이 아직 안옴)
- 3 : 응답 수신 중 (응답 행과 헤더는 가져왔지만 본문은 가져오지 못함)
- 4 : 수신 완료 (모든 응답 메시지를 수신했다)